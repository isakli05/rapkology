@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* CTA Button with Shadow - Design System Component */
  .cta-button-container {
    @apply relative;
  }
  
  .cta-button-shadow {
    @apply absolute w-36 h-12 bg-black transition-all duration-300 pointer-events-none;
    top: 5.55px;
    left: 15px;
    clip-path: polygon(0 5%, 100% 0%, 91% 100%, 7% 92%);
    z-index: -1;
  }

  .cta-button {
    @apply relative z-10 inline-flex items-center justify-center;
    @apply px-8 py-4 min-w-36 min-h-12;
    @apply font-saira font-bold text-sm leading-none;
    @apply text-black bg-brand-yellow;
    @apply border-none cursor-pointer;
    @apply transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-brand-yellow focus:ring-offset-2;
    
    /* Custom clip path */
    clip-path: polygon(0 5%, 100% 0%, 91% 100%, 7% 92%);
    
    /* Font optimization */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  .cta-button:hover {
    background-color: #e6d743; /* Slightly darker brand yellow */
    transform: translateZ(0) translateY(-2px);
  }

  .cta-button:hover + .cta-button-shadow {
    top: 7px;
    left: 17px;
  }

  .cta-button:active {
    transform: translateZ(0) translateY(1px);
  }

  .cta-button:active + .cta-button-shadow {
    top: 3px;
    left: 5px;
  }

  /* Banner Twitch-themed Buttons - Design System Component */
  .banner-button {
    @apply relative inline-flex items-center justify-center gap-1 lg:gap-2;
    @apply px-6 py-3 lg:px-8 lg:py-4 min-w-32 lg:min-w-40 min-h-12 lg:min-h-14;
    @apply font-helvetica font-bold text-sm lg:text-base leading-none;
    @apply border-2 cursor-pointer rounded-lg;
    @apply transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    
    /* Font optimization */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Primary Twitch Button - Follow */
  .banner-button-primary {
    @apply text-white border-purple-600 bg-purple-600;
    @apply hover:bg-purple-700 hover:border-purple-700;
    @apply focus:ring-purple-500;
  }

  .banner-button-primary:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: 0 8px 25px rgba(147, 51, 234, 0.4);
  }

  .banner-button-primary:active {
    transform: translateZ(0) translateY(1px);
  }

  /* Secondary Twitch Button - Subscribe */
  .banner-button-secondary {
    @apply text-purple-600 border-purple-600 bg-transparent;
    @apply hover:bg-purple-600 hover:text-white;
    @apply focus:ring-purple-500;
  }

  .banner-button-secondary:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: 0 8px 25px rgba(147, 51, 234, 0.2);
  }

  .banner-button-secondary:active {
    transform: translateZ(0) translateY(1px);
  }

  /* Dark Theme Button - Subscribe (Figma Design) */
  .banner-button-dark {
    @apply text-white border-ink-700 bg-ink-700;
    @apply hover:bg-ink-500 hover:border-ink-500;
    @apply focus:ring-ink-700;
  }

  .banner-button-dark:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: 0 8px 25px rgba(59, 59, 59, 0.4);
  }

  .banner-button-dark:active {
    transform: translateZ(0) translateY(1px);
  }

  .banner-button span {
    @apply text-base lg:text-lg;
  }

  /* Banner Layout System - TypeScript Config Driven (Pragmatic) */

  .banner-twitch-logo {
    @apply w-auto;
    height: clamp(5rem, 8vw, 12rem);
    filter: theme('boxShadow.twitch-glow');
  }

  .banner-logo-divider {
    @apply hidden lg:block w-px bg-ink-500 opacity-60;
    height: clamp(7rem, 10vw, 9rem);
    margin: 0 theme('spacing.banner-logo-divider');
  }

  /* Monthly Favorites Design System Components */
  .favorites-logo-container {
    @apply absolute top-0 left-0 bg-white flex items-center justify-center;
    @apply px-8 py-3;
    width: theme('spacing.favorites-logo-width');
    height: theme('spacing.favorites-logo-height');
    clip-path: theme('clipPath.favorites-logo');
    gap: theme('spacing.favorites-logo-gap');
    z-index: theme('zIndex.favorites-logo');
  }

  .favorites-card {
    @apply relative rounded-lg overflow-hidden bg-ink-900;
    height: theme('spacing.favorites-card-height');
  }

  .favorites-card-cover {
    @apply absolute top-4 w-32 lg:w-40 rounded-lg;
    left: theme('spacing.favorites-card-offset');
    bottom: 4rem;
    z-index: theme('zIndex.favorites-cover');
  }

  .favorites-card-content {
    @apply absolute inset-0 flex flex-col justify-center items-center text-center;
    @apply pl-16;
    z-index: theme('zIndex.favorites-content');
  }

  .favorites-ranking-badge {
    @apply bg-ink-800 rounded-3xl py-1 px-3 mb-8;
  }

  .favorites-mask-container {
    @apply absolute bottom-0 left-0 right-0 pointer-events-none;
    @apply h-12 lg:h-16;
    z-index: theme('zIndex.favorites-mask');
  }

  .favorites-mask-gradient {
    @apply absolute bottom-0 left-0 right-0 h-full pointer-events-none;
    background: linear-gradient(to bottom, transparent 0%, transparent 60%, #000000 100%);
  }

  .favorites-progress-bar {
    @apply relative h-1 bg-gray-800 rounded-full overflow-hidden;
    @apply mx-4 lg:mx-32;
  }

  .favorites-progress-fill {
    @apply absolute top-0 left-0 h-full bg-brand-yellow rounded-full;
    @apply transition-all duration-500 ease-out;
  }

  /* Grid System for Monthly Favorites */
  .favorites-grid {
    @apply grid grid-cols-12 gap-8 mb-12 lg:mb-16 min-h-[300px] w-full px-0;
  }

  .favorites-left-section {
    @apply col-span-12 lg:col-span-5 relative;
    padding-left: clamp(0.5rem, 2vw, 1rem);
  }

  .favorites-right-section {
    @apply col-span-12 lg:col-span-7 relative pr-0;
  }

  .favorites-title-container {
    @apply absolute top-2/3 transform -translate-y-1/2;
    left: clamp(0.5rem, 4vw, 4rem);
  }
}

