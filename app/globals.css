@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* CTA Button with Shadow - Design System Component */
  .cta-button-container {
    @apply relative;
  }
  
  .cta-button-shadow {
    @apply absolute w-36 h-12 bg-black transition-all duration-300 pointer-events-none;
    top: 5.55px;
    left: 15px;
    clip-path: polygon(0 5%, 100% 0%, 91% 100%, 7% 92%);
    z-index: -1;
  }

  .cta-button {
    @apply relative z-10 inline-flex items-center justify-center;
    @apply px-8 py-4 min-w-36 min-h-12;
    @apply font-saira font-bold text-sm leading-none;
    @apply text-black bg-brand-yellow;
    @apply border-none cursor-pointer;
    @apply transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-brand-yellow focus:ring-offset-2;
    
    /* Custom clip path */
    clip-path: polygon(0 5%, 100% 0%, 91% 100%, 7% 92%);
    
    /* Font optimization */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  .cta-button:hover {
    background-color: #e6d743; /* Slightly darker brand yellow */
    transform: translateZ(0) translateY(-2px);
  }

  .cta-button:hover + .cta-button-shadow {
    top: 7px;
    left: 17px;
  }

  .cta-button:active {
    transform: translateZ(0) translateY(1px);
  }

  .cta-button:active + .cta-button-shadow {
    top: 3px;
    left: 5px;
  }

  /* Banner Twitch-themed Buttons - Design System Component */
  .banner-button {
    @apply relative inline-flex items-center justify-center gap-1 lg:gap-2;
    @apply px-6 py-3 lg:px-8 lg:py-4 min-w-32 lg:min-w-40 min-h-12 lg:min-h-14;
    @apply font-helvetica font-bold text-sm lg:text-base leading-none;
    @apply border-2 cursor-pointer rounded-lg;
    @apply transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    
    /* Font optimization */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* Primary Twitch Button - Follow */
  .banner-button-primary {
    @apply text-white border-purple-600 bg-purple-600;
    @apply hover:bg-purple-700 hover:border-purple-700;
    @apply focus:ring-purple-500;
  }

  .banner-button-primary:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: 0 8px 25px rgba(147, 51, 234, 0.4);
  }

  .banner-button-primary:active {
    transform: translateZ(0) translateY(1px);
  }

  /* Secondary Twitch Button - Subscribe */
  .banner-button-secondary {
    @apply text-purple-600 border-purple-600 bg-transparent;
    @apply hover:bg-purple-600 hover:text-white;
    @apply focus:ring-purple-500;
  }

  .banner-button-secondary:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: 0 8px 25px rgba(147, 51, 234, 0.2);
  }

  .banner-button-secondary:active {
    transform: translateZ(0) translateY(1px);
  }

  /* Dark Theme Button - Subscribe (Figma Design) */
  .banner-button-dark {
    @apply text-white border-ink-700 bg-ink-700;
    @apply hover:bg-ink-500 hover:border-ink-500;
    @apply focus:ring-ink-700;
  }

  .banner-button-dark:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: 0 8px 25px rgba(59, 59, 59, 0.4);
  }

  .banner-button-dark:active {
    transform: translateZ(0) translateY(1px);
  }

  .banner-button span {
    @apply text-base lg:text-lg;
  }

  /* Banner Layout System - TypeScript Config Driven (Pragmatic) */

  .banner-twitch-logo {
    @apply w-auto;
    height: clamp(5rem, 8vw, 12rem);
    filter: theme('boxShadow.twitch-glow');
  }

  .banner-logo-divider {
    @apply hidden lg:block w-px bg-ink-500 opacity-60;
    height: clamp(7rem, 10vw, 9rem);
    margin: 0 theme('spacing.banner-logo-divider');
  }

  /* Monthly Favorites Design System Components */
  .favorites-logo-container {
    @apply absolute top-0 left-0 bg-white flex items-center justify-center;
    @apply px-8 py-3;
    width: theme('spacing.favorites-logo-width');
    height: theme('spacing.favorites-logo-height');
    clip-path: theme('clipPath.favorites-logo');
    gap: theme('spacing.favorites-logo-gap');
    z-index: theme('zIndex.favorites-logo');
  }

  .favorites-card {
    @apply relative overflow-hidden bg-ink-900;
    width: 250px !important;
    height: clamp(256px, 20vw, 320px);
    cursor: pointer;
  }

  .favorites-card-cover {
    @apply absolute top-4 w-20 lg:w-28 rounded-lg;
    left: -2.5rem;
    bottom: 4rem;
    z-index: theme('zIndex.favorites-cover');
    transform: rotate(-12deg);
    transform-origin: center;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  @media (min-width: 1024px) {
    .favorites-card-cover {
      left: -3rem; /* Desktop'ta daha fazla taşsın */
    }
  }
  
  .favorites-card:hover .favorites-card-cover {
    left: 50%;
    top: 50%;
    bottom: auto;
    width: 80px !important;   /* Mobile size - w-20 */
    height: 80px !important;  /* Mobile size - kare */
    transform: translate(-50%, -50%) rotate(0deg);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 50; /* En üstte olsun */
  }
  
  @media (min-width: 1024px) {
    .favorites-card:hover .favorites-card-cover {
      width: 320px !important;  /* Desktop size - w-28 */
      height: 320px !important; /* Desktop size - kare */
    }
  }
  
  .favorites-card:hover .favorites-card-content {
    z-index: 5; /* Cover'ın altında olsun */
  }
  
  /* Play Button Overlay */
  .favorites-card::after {
    content: '';
    position: absolute;
    width: 57px;
    height: 57px;
    background-image: url('/icons/play_button.svg');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 0;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.3s ease; /* Normal durumda delay yok */
    pointer-events: none;
    z-index: 60;
  }
  
  .favorites-card:hover::after {
    opacity: 1;
    transition: opacity 0.3s ease 0.1s; /* Hover'da delay var */
  }

  .favorites-card-content {
    @apply absolute inset-0 flex flex-col justify-center items-center text-center;
    @apply pl-10;
    z-index: theme('zIndex.favorites-content');
  }

  /* Hero Slider Navigation - Remove focus outline */
  #hero-slider button {
    outline: none !important;
    box-shadow: none !important;
  }
  
  #hero-slider button:focus {
    outline: none !important;
    box-shadow: none !important;
  }
  
  #hero-slider button:focus-visible {
    outline: none !important;
    box-shadow: none !important;
  }

  .favorites-ranking-badge {
    @apply bg-ink-800 rounded-3xl py-1 px-3 mb-8;
  }

  .favorites-mask-container {
    @apply absolute bottom-0 left-0 right-0 pointer-events-none;
    @apply h-12 lg:h-16;
    z-index: theme('zIndex.favorites-mask');
  }

  .favorites-mask-gradient {
    @apply absolute bottom-0 left-0 right-0 h-full pointer-events-none;
    background: linear-gradient(to bottom, transparent 0%, transparent 60%, #000000 100%);
  }

  .favorites-progress-bar {
    @apply relative h-1 bg-gray-800 rounded-full overflow-hidden;
    @apply mx-4 lg:mx-32;
  }

  .favorites-progress-fill {
    @apply absolute top-0 left-0 h-full bg-brand-yellow rounded-full;
    @apply transition-all duration-500 ease-out;
  }

  /* Grid System for Monthly Favorites */
  .favorites-grid {
    @apply grid grid-cols-12 gap-8 mb-12 lg:mb-16 min-h-[300px] w-full;
  }

  .favorites-left-section {
    @apply col-span-12 lg:col-span-5 relative;
  }

  .favorites-right-section {
    @apply col-span-12 lg:col-span-7 relative flex justify-end;
  }
  
  /* Control Swiper visibility for 2.5 cards */
  #monthly-favorites-swiper {
    width: 661px;
    flex-shrink: 0;
  }

  /* AGGRESSIVE SWIPER OVERRIDE - FORCE 250PX WIDTH */
  #monthly-favorites-swiper .swiper-slide,
  .swiper-container #monthly-favorites-swiper .swiper-slide,
  [data-testid="monthly-favorites"] .swiper-slide {
    width: 250px !important;
    max-width: 250px !important; 
    min-width: 250px !important;
    flex-basis: 250px !important;
    flex-shrink: 0 !important;
    flex-grow: 0 !important;
  }
  
  #monthly-favorites-swiper .swiper-slide .favorites-card {
    width: 250px !important;
    max-width: 250px !important;
    min-width: 250px !important;
  }

  .favorites-title-container {
    @apply absolute top-2/3 transform -translate-y-1/2 translate-x-36;
    left: 0;
  }

  /* Blog Discovery Components - Design System */
  
  /* Line clamp utilities for blog excerpts */
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Blog card hover effects - Enhanced UX */
  .blog-card-image {
    @apply transition-transform duration-300 ease-out;
    transform: scale(1);
    will-change: transform;
  }
  
  .blog-card-image:hover {
    transform: scale(1.05);
  }

  /* Blog card content hover effects */
  .blog-card-title {
    @apply transition-colors duration-200 ease-out;
    will-change: color;
  }
  
  /* Category tags enhanced states */
  .category-tag {
    @apply relative overflow-hidden;
  }
  
  .category-tag::before {
    @apply absolute inset-0 bg-brand-yellow opacity-0 transition-opacity duration-200;
    content: '';
    z-index: -1;
  }
  
  .category-tag:hover::before {
    opacity: 1;
  }

  /* Newsletter form enhancement */
  .newsletter-input-container {
    @apply relative;
  }
  
  .newsletter-input-container::after {
    @apply absolute bottom-0 left-0 w-0 h-px bg-brand-yellow transition-all duration-300;
    content: '';
  }
  
  .newsletter-input-container:focus-within::after {
    width: 100%;
  }

  /* Social footer link hover states */
  .social-link {
    @apply relative overflow-hidden;
  }
  
  .social-link::before {
    @apply absolute inset-0 bg-brand-yellow scale-0 transition-transform duration-300 rounded-full;
    content: '';
    z-index: -1;
  }
  
  .social-link:hover::before {
    transform: scale(1);
  }

  /* Sidebar Spacing - Professional Solution */
  .sidebar-spacing > * + * {
    margin-top: 3rem; /* 48px - equivalent to space-y-12 */
  }

  @media (min-width: 1024px) {
    .sidebar-spacing > * + * {
      margin-top: 10rem; /* 160px - equivalent to space-y-40 */
    }
    
    /* Last child override - SocialFooter normal spacing */
    .sidebar-spacing > *:last-child {
      margin-top: 3rem; /* 48px - normal spacing for footer */
    }
  }

  /* News Slider Design System Components - Senior Level Architecture */
  .news-featured-card {
    @apply relative w-full h-full overflow-hidden cursor-pointer;
  }

  .news-featured-image {
    @apply relative w-full h-full;
  }

  .news-featured-overlay {
    @apply absolute inset-0 bg-black/30;
  }

  .news-featured-content {
    @apply absolute inset-0 flex items-end;
    padding: clamp(1.5rem, 4vw, 2rem);
  }

  .news-featured-layout {
    @apply w-full flex items-end justify-between;
  }

  .news-featured-title {
    @apply font-saira-condensed font-bold leading-tight text-white drop-shadow-lg max-w-lg;
    font-size: clamp(1.25rem, 2.5vw, 2rem);
  }

  .news-play-button {
    @apply flex-shrink-0 w-16 h-16 lg:w-20 lg:h-20;
  }

  .news-side-card {
    @apply flex cursor-pointer gap-news-card-gap;
  }

  .news-side-image {
    @apply relative flex-shrink-0 overflow-hidden rounded-lg;
    width: clamp(11rem, 14vw, 13rem);
    height: clamp(7rem, 9vw, 8rem);
  }

  .news-side-content {
    @apply flex-1 min-w-0 flex items-center;
  }

  .news-side-title {
    @apply font-saira-condensed font-bold leading-tight text-ink-700 line-clamp-3 text-news-fluid-base;
  }

  .news-description {
    @apply font-saira-condensed font-bold leading-tight text-ink-700 line-clamp-3 text-news-fluid-base h-news-description-height;
  }

  .news-pagination-layout {
    @apply flex flex-col lg:flex-row lg:items-center lg:justify-between gap-news-section-gap mt-news-section-gap;
  }

  .news-pagination-dots {
    @apply flex justify-center lg:justify-end flex-shrink-0 gap-2;
  }

  .news-pagination-dot {
    @apply rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ink-700 focus:ring-offset-2 focus:ring-offset-brand-yellow;
  }

  .news-pagination-dot--active {
    @apply w-4 h-4 bg-ink-700;
  }

  .news-pagination-dot--inactive {
    @apply w-3 h-3 bg-ink-500 hover:bg-ink-700;
  }

  /* News Background Layers */
  .news-background-layer {
    @apply absolute inset-0 w-full h-full pointer-events-none z-news-backgrounds;
  }

  .news-shape-png {
    @apply opacity-30 mix-blend-multiply;
  }

  .news-shape-svg {
    @apply opacity-20;
  }

  .news-tear-effect {
    @apply absolute left-0 right-0 pointer-events-none w-full h-auto z-news-tear;
    bottom: -2.5rem; /* -40px equivalent for tear offset */
  }

  .news-content-container {
    @apply relative z-news-content;
  }

  /* Navbar Variants - Senior Level Architecture */
  .navbar-glassmorphism {
    @apply bg-black/50 backdrop-blur-nav;
  }

  .navbar-solid {
    @apply bg-black;
  }

  /* Category Tabs - Horizontal Filter System */
  .category-tabs-container {
    @apply w-full overflow-x-auto;
  }

  .category-tab {
    @apply px-4 py-2 font-saira font-normal text-sm leading-none whitespace-nowrap;
    @apply border border-ink-500 transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-brand-yellow focus:ring-offset-2 focus:ring-offset-black;
    /* Sharp corners - no rounded */
  }

  .category-tab--active {
    @apply bg-brand-yellow text-black border-brand-yellow;
  }

  .category-tab--inactive {
    @apply bg-transparent text-white border-ink-500 hover:border-ink-300 hover:text-ink-300;
  }

  /* News Card Design System - Figma Spec Implementation */
  .news-card {
    @apply relative cursor-pointer;
  }

  .news-card-image {
    @apply relative aspect-video overflow-hidden mb-4;
    /* Sharp corners - no rounded */
  }

  .news-card-date {
    @apply font-saira font-normal text-news-date text-ink-400 mb-3;
  }

  .news-card-title {
    @apply font-saira-condensed font-bold text-news-title text-white uppercase;
    @apply transition-colors duration-200 line-clamp-3;
    line-height: 1.2;
    height: clamp(3.2rem, 4vw, 3.8rem); /* Responsive fixed height for 3 lines */
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .news-card-title:hover {
    @apply text-brand-yellow;
  }

  .news-card-separator {
    @apply w-full h-px bg-ink-700 my-4;
  }

  .news-card-link {
    @apply font-saira font-normal text-news-link text-white;
    @apply hover:text-brand-yellow transition-colors duration-200;
  }

  /* View Control Buttons - Sharp Design System */
  .view-control-btn {
    @apply p-2 transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-brand-yellow focus:ring-offset-2 focus:ring-offset-black;
    /* Sharp corners - no rounded */
  }

  .view-control-btn--active {
    @apply text-brand-yellow;
  }

  .view-control-btn--inactive {
    @apply text-white hover:text-brand-yellow;
  }

  /* NewsDiscovery Diamond Background - Desktop Only, Senior Level Architecture */
  .discovery-diamond-background {
    @apply absolute pointer-events-none hidden lg:block;
    width: 625.7px;
    height: 681px;
    left: -178.9px;
    opacity: 1;
    z-index: 1; /* Above background but below content */
  }

  .discovery-content-wrapper {
    @apply relative z-discovery-content;
  }

  /* Blog Detail Content - Design System Typography */
  .prose {
    @apply max-w-none;
  }
  
  .prose p {
    @apply mb-6 text-white font-saira font-normal leading-[1.2] tracking-[0.015em];
  }
  
  .prose p:last-child {
    @apply mb-0;
  }

  .prose h2 {
    @apply font-saira-condensed font-bold text-white mb-4 mt-8;
    font-size: clamp(1.5rem, 2.5vw, 2rem);
    line-height: 1.1;
  }

  .prose h3 {
    @apply font-saira-condensed font-bold text-white mb-3 mt-6;
    font-size: clamp(1.25rem, 2vw, 1.5rem);
    line-height: 1.1;
  }

  .prose ul, .prose ol {
    @apply mb-6 pl-6 space-y-2 text-white;
  }

  .prose li {
    @apply font-saira font-normal leading-[1.2] tracking-[0.015em];
  }

  .prose blockquote {
    @apply border-l-4 border-brand-yellow pl-6 my-8 italic text-white;
  }

  .prose a {
    @apply text-brand-yellow underline hover:text-white transition-colors duration-200;
  }

  .prose strong {
    @apply font-bold text-white;
  }

  .prose em {
    @apply italic text-white;
  }
}

